# 1. 任务空间和工作空间
![任务空间和工作空间](<Figure/Figure 1.1.png>)
Task space（任务空间）：用来最自然地描述任务的空间。

* 做操作（manipulation）时，常把末端执行器（手爪/工具）的配置空间 C-space当作任务空间。

* 由任务决定，不依赖具体机器人。

Workspace（工作空间）：机器人末端执行器能够到达的所有配置/位姿的集合。

* 由机器人结构、连杆长度、关节限位等决定，不依赖具体任务。右下图就是机械臂可达体积的示意。

* 与机器人整体 C-space 的区别：任务空间与工作空间都是用户选用的表示；而机器人自身的 C-space 维度 = 自由度数（# dofs）（幻灯片左下角的手写式子）。

直观例子：图中机器人用螺丝刀拧螺丝——
* 任务空间是“螺丝头附近需要的末端姿态/轨迹”；
* 工作空间是这台机械臂能到的所有位置/姿态范围。
# 2. n 维空间中的旋转自由度
n 维空间中的旋转自由度 = $\frac{n(n-1)}{2}$

意思是：在 $n$ 维里，一个刚体的旋转可由这么多独立参数决定（$SO(n)$ 的维数）。

**小例子：**

- $n=2 \rightarrow \frac{2 \cdot 1}{2} = 1$ 个旋转自由度（平面里只有一个转角）。
- $n=3 \rightarrow \frac{3 \cdot 2}{2} = 3$ 个旋转自由度（roll/pitch/yaw）。

**直观理解/证明速记：**

>无穷小旋转可写成反对称矩阵 $A$，它只有上三角（或下三角）独立项，数量正好是两两成对的计C(2 n​)=n(n−1)/2​

## 3D（刚体 6 自由度）关节自由度与约束数

![自由度](<Figure/Figure 1.2.png>)

按 3D（刚体总自由度 = 6）计算，关节的“自由度 f”与“约束数 = 6 − f”如下：

- **Revolute（转动 R）**：  
  f = 1，约束数 = 6 − 1 = 5

- **Prismatic（移动 P）**：  
  f = 1，约束数 = 6 − 1 = 5

- **Helical（螺旋 H）**：  
  f = 1，约束数 = 6 − 1 = 5（旋转与轴向位移耦合成 1 个变量）

- **Cylindrical（圆柱 C）**：  
  f = 2，约束数 = 6 − 2 = 4（绕轴转 + 沿轴移）

- **Universal（万向 U）**：  
  f = 2，约束数 = 6 − 2 = 4（两互垂转动）

- **Spherical（球面 S）**：  
  f = 3，约束数 = 6 − 3 = 3（三个独立旋转）



>在 2D 平面中，刚体总自由度为 3（平移 x、平移 y、绕垂直轴旋转）。因此：
>- R、P、H 的约束数 = 3 − 1 = 2。  
>- C、U 不适用（需要 3D 轴向或两轴转动）。  
>- S（球面）在 2D 中不成立。
# 3.Chebychev–Grübler–Kutzbach（CGK）运动度判据

CGK 判据用来估算机构/机器人运动自由度 \(M\) 的计数公式。

1. 一般形式（最通用）
\[
M=\lambda\,(n-1-j)+\sum_{i=1}^{j} f_i
\]
其中：
- \(\lambda\)：所考虑空间中自由刚体的自由度（平面 \(\lambda=3\)，空间 \(\lambda=6\)）。
- \(n\)：构件/连杆数（包括机架/地面）。
- \(j\)：关节数。
- \(f_i\)：第 \(i\) 个关节本身允许的自由度（例如：R/P/H = 1；C/U = 2；S = 3）。

2. 等价的“约束数”形式
每个关节提供 \(\lambda-f_i\) 个约束，总约束为 \(\sum_{i=1}^{j}(\lambda-f_i)\)，因此也可写为：
\[
M=\lambda(n-1)-\sum_{i=1}^{j}(\lambda-f_i)
\]

3. 常见关节的 \(f_i\)（3D 情形）
- Revolute（R, 转动）：\(f=1\)  
- Prismatic（P, 平移）：\(f=1\)  
- Helical（H, 螺旋）：\(f=1\)（旋转与轴向位移耦合）  
- Cylindrical（C, 圆柱）：\(f=2\)（绕轴转 + 沿轴移）  
- Universal（U, 万向）：\(f=2\)（两互垂转动）  
- Spherical（S, 球面）：\(f=3\)（三转）

4. 常见特例
- 平面机构（全部为 1-DOF 低副 R 或 P）：  
  \[
  M=3(n-1)-2j
  \]
- 空间机构（按关节自由度分组，令 \(j_k\) 为 k 自由度关节的数量）：  
  \[
  M=6(n-1)-5j_1-4j_2-3j_3-2j_4-j_5
  \]
  （这里 \(j_1\) 为 1-DOF 关节数，\(j_2\) 为 2-DOF，依此类推。）

5. 小例子
- 平面四杆：\(n=4,\; j=4\)  
  \[
  M=3(n-1)-2j=3\cdot 3-2\cdot 4=1
  \]
  —— 一自由度机构（典型四杆）。

- 6 轴串联机械臂（6 个 R，开链）：  
  开链情况下 \(n=j+1\)（含基座），若全部为 1-DOF：
  \[
  M=\sum_{i=1}^{j} f_i = 6
  \]
  —— 6 自由度（常见工业机械臂的情形）。

> 注意事项
>- CGK 判据是基于自由度/约束的计数法，通常是必要条件但非充分条件。  
>- 若存在冗余约束或约束相关性（例如 Bennett 链、Sarrus 机构等），公式可能失效或需要修正。  
>- 对于并联机构或存在闭链约束耦合的机构，最好结合约束分析或运动学/位形分析检验结果。


考虑下列平面机构：
![alt text](<Figure/Figure 1.3.png>)
    1. 如图1
- 空间类型：平面，\(\lambda=3\)。
- 连杆数：\(n=5\)（含地杆：4 个活动杆 + 1 个地面）。
- 关节：4 个转动副（每个 \(f_i=1\)）。

使用平面低副的特例公式：
\[
M=3(n-1)-2j
\]
代入数值：
\[
M=3(5-1)-2\times 4=12-8=4
\]

或用一般形式：
\[
M=\lambda(n-1-j)+\sum_{i=1}^{j}f_i
\]
\[
M=3(5-1-4)+(1+1+1+1)=4
\]

结论：自由度 \(M=4\)。这是一个以地面为基座的 4R 串联开链。
    2. 如图2
- 空间类型：平面，\(\lambda=3\)。
- 连杆数：\(n=6\)（含地杆：5 个活动杆 + 1 个地面）。
- 关节：7 个转动副（每个 \(f_i=1\)）。

使用平面低副的特例公式：
\[
M=3(n-1)-2j
\]
代入数值：
\[
M=3(6-1)-2\times 7=15-14=1
\]

或用一般形式：
\[
M=\lambda(n-1-j)+\sum_{i=1}^{j}f_i
\]
\[
M=3\times (6-1-7)+(1+1+1+1+1+1+1) = 1
\]

